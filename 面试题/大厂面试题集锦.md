https://lgwebdream.github.io/FE-Interview/javascript/

## 美团

### 1. 请实现 DOM2JSON 一个函数，可以把一个 DOM 节点输出 JSON 的格式

```js
function dom2Json(domtree) {
  let obj = {};
  obj.name = domtree.tagName;
  obj.children = [];
  domtree.childNodes.forEach((child) => obj.children.push(dom2Json(child)));
  return obj;
}
```

### 2. 讲讲promise，promise的3种状态和状态转换。 Promise中回调函数是同步的还是异步的？then的链式调用是同步的还是异步的？

### 3. 说一下JSON.stringify有什么缺点？

```js
1.如果obj里面有时间对象，则JSON.stringify后再JSON.parse的结果，时间将只是字符串的形式，而不是对象的形式
2.如果obj里有RegExp(正则表达式的缩写)、Error对象，则序列化的结果将只得到空对象；
3、如果obj里有函数，undefined，则序列化的结果会把函数或 undefined丢失；
4、如果obj里有NaN、Infinity和-Infinity，则序列化的结果会变成null
5、JSON.stringify()只能序列化对象的可枚举的自有属性，例如 如果obj中的对象是有构造函数生成的， 则使用JSON.parse(JSON.stringify(obj))深拷贝后，会丢弃对象的constructor；
6、如果对象中存在循环引用的情况也无法正确实现深拷贝；
```

## PDD

### 1. 输出啥

```js
function fn() {
  return new Promise((resolve, reject) => {
      setTimeout(() => {
          reject('error');
      }, 1000);
  });
}
const foo = async () => {
   try {
     await fn();
  } catch (e) {
      console.log('lala', e);  // some error
  }
}
foo();

// 异步任务里放了个微任务
```

### 2. 实现Promise.all，Promise.race，Promise.any （同百度、滴滴）