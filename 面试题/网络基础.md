# 前端网络知识大厂面试题精选

## 一、HTTP/HTTPS 相关

### 1. HTTP 与 HTTPS 的区别
- **安全性**：HTTPS = HTTP + SSL/TLS，提供加密传输
- **端口**：HTTP默认80，HTTPS默认443
- **证书**：HTTPS需要CA证书
- **性能**：HTTPS因加密解密稍慢，但HTTP/2优化后差距缩小
- **SEO**：搜索引擎优先索引HTTPS站点

### 2. HTTPS 握手过程
1. 客户端发送ClientHello（支持的加密算法、随机数等）
2. 服务器响应ServerHello（选择的加密算法、随机数、证书）
3. 客户端验证证书，生成预主密钥并用公钥加密发送
4. 服务器用私钥解密获得预主密钥
5. 双方根据随机数和预主密钥生成会话密钥
6. 加密通信开始

### 3. HTTP/2 新特性
- **二进制分帧**：取代文本格式，更高效
- **多路复用**：一个连接并行多个请求
- **头部压缩**：HPACK算法减少头部大小
- **服务器推送**：服务器可主动推送资源

### 4. HTTP 状态码
- **1xx**：信息性状态码
- **2xx**：成功（200 OK，204 No Content）
- **3xx**：重定向（301永久，302临时，304缓存）
- **4xx**：客户端错误（400错误请求，403禁止，404未找到）
- **5xx**：服务器错误（500内部错误，502网关错误）

## 二、TCP/UDP 相关

### 1. TCP 三次握手与四次挥手
**三次握手**：
1. 客户端发送SYN=1, seq=x
2. 服务器响应SYN=1, ACK=1, seq=y, ack=x+1
3. 客户端发送ACK=1, seq=x+1, ack=y+1

**四次挥手**：
1. 客户端发送FIN=1
2. 服务器响应ACK
3. 服务器发送FIN
4. 客户端响应ACK（等待2MSL）

### 2. TCP 与 UDP 区别
| 特性        | TCP                  | UDP                |
|------------|----------------------|--------------------|
| 连接方式    | 面向连接             | 无连接             |
| 可靠性      | 可靠（确认重传机制） | 不可靠             |
| 有序性      | 保证顺序             | 不保证顺序         |
| 速度        | 较慢                 | 较快               |
| 头部大小    | 20-60字节            | 8字节              |
| 适用场景    | 文件传输、网页浏览   | 视频流、DNS查询    |

### 3. TCP 拥塞控制算法
- **慢启动**：窗口大小指数增长
- **拥塞避免**：窗口线性增长
- **快速重传**：收到3个重复ACK立即重传
- **快速恢复**：重传后直接进入拥塞避免

## 三、Web 安全

### 1. 常见 Web 攻击及防御
- **XSS**：注入恶意脚本
  - 防御：输入过滤、输出编码、CSP
- **CSRF**：跨站请求伪造
  - 防御：Token验证、SameSite Cookie
- **SQL注入**：通过输入执行SQL命令
  - 防御：参数化查询、ORM
- **DDoS**：分布式拒绝服务
  - 防御：流量清洗、CDN、限流

### 2. 同源策略与跨域解决方案
- **同源策略**：协议+域名+端口相同
- **CORS**：服务器设置`Access-Control-Allow-Origin`
- **JSONP**：利用`<script>`标签跨域
- **代理**：Nginx反向代理
- **postMessage**：跨窗口通信
- **WebSocket**：不受同源限制

### 3. 前端安全最佳实践
- 使用HTTPS
- 设置安全的Cookie属性（HttpOnly, Secure, SameSite）
- 实现CSP内容安全策略
- 避免将敏感数据存储在localStorage
- 定期更新第三方库

## 四、缓存机制

### 1. 浏览器缓存策略
- **强缓存**：
  - `Cache-Control`（max-age, no-cache, no-store）
  - `Expires`（HTTP/1.0）
- **协商缓存**：
  - `Last-Modified` / `If-Modified-Since`
  - `ETag` / `If-None-Match`

### 2. Service Worker 缓存策略
- **缓存优先**（Cache First）
- **网络优先**（Network First）
- **仅缓存**（Cache Only）
- **仅网络**（Network Only）
- **Stale-While-Revalidate**

## 五、WebSocket

### 1. WebSocket 特点
- 全双工通信
- 单个TCP连接
- 低延迟
- 无跨域限制
- 协议标识`ws://`或`wss://`

### 2. 握手过程
1. 客户端发送HTTP Upgrade请求
2. 服务器响应101状态码切换协议
3. 建立持久连接

## 六、性能优化

### 1. 关键性能指标
- **FP/FCP**：首次绘制/首次内容绘制
- **LCP**：最大内容绘制
- **TTI**：可交互时间
- **CLS**：布局偏移量
- **FID**：首次输入延迟

### 2. 网络层优化手段
- **CDN加速**
- **HTTP/2或HTTP/3**
- **资源压缩**（Brotli/Gzip）
- **资源预加载**（preload, prefetch）
- **懒加载**（图片、组件）
- **域名分片**

## 七、经典面试题

1. **从输入URL到页面显示发生了什么？**
   - DNS解析
   - TCP连接
   - HTTP请求
   - 服务器处理
   - 响应返回
   - 浏览器解析渲染

2. **前端如何实现即时通讯？**
   - WebSocket
   - SSE（Server-Sent Events）
   - 长轮询
   - WebRTC（点对点）

3. **如何优化首屏加载速度？**
   - SSR/SSG
   - 代码分割
   - 关键资源内联
   - 图片优化
   - 预渲染

4. **Cookie、SessionStorage、LocalStorage区别？**
   | 特性         | Cookie                  | LocalStorage       | SessionStorage     |
   |-------------|-------------------------|--------------------|--------------------|
   | 生命周期      | 可设置过期时间           | 永久               | 会话结束清除        |
   | 存储大小      | 4KB左右                 | 5MB或更大          | 同LocalStorage      |
   | 与服务器通信  | 每次请求自动携带         | 不自动发送         | 不自动发送          |
   | 访问范围      | 所有窗口                 | 同源所有窗口       | 仅当前窗口          |

掌握这些网络知识要点，能够应对大多数大厂前端面试中的网络相关问题。建议结合实际项目经验理解这些概念，并准备相关实战案例。


# HTTP 长连接、SSE 与 WebSocket 对比

| 特性                | HTTP 长连接          | SSE                  | WebSocket            |
|---------------------|---------------------|----------------------|----------------------|
| **通信方向**         | 客户端→服务器        | 服务器→客户端        | 全双工通信               |
| **协议基础**         | HTTP                | HTTP                 | 独立协议             |
| **连接建立**         | HTTP 握手           | HTTP 握手            | HTTP 升级握手        |
| **数据格式**         | 任意 HTTP 格式      | `text/event-stream`  | 二进制/文本          |
| **头部开销**         | 每次请求都有头部    | 首次连接后无头部     | 握手后无头部         |
| **自动重连**         | 不支持              | 支持                 | 需手动实现           |
| **浏览器支持**       | 所有浏览器          | 除 IE 外的主流浏览器 | IE10+ 和现代浏览器   |
| **服务器推送**       | 不支持              | 支持                 | 支持                 |
| **适用场景**         | 资源加载/API调用    | 服务器通知           | 实时交互应用         |
